# breakdown
## неписи и диалоги
Игрок умеет с чем-то взаимодействовать. На нем висит PlayerInteract.  
Взаимодействует он с чем-то, что являет собой "взаимодействуемое", то есть реализует интерфейс IInteractable
Непись сам по себе отвечает только за вывод диалога, потому что только это он и умеет делать.
В последствие может быть он научится выдавать предметы - это не проблема(у меня в лабах реализовано норм - можно спиздить)
---
Итак, как происходит взаимодействие: в PlayerInteraсt есть метод GetInteractable - он берет ближайшие интерактивные объекты(делящие интерфейс IInteractable)
и если они ЕСТЬ, то производит с ними взаимодействие.
<details>
  <summary>Два вида взаимодействия</summary>
У ВСЕХ интерактивных объектов есть два варианта как с ними взаимодействовать: продолжительно или кратковременно.<br>
Это у меня определяется enum параметром в инспекторе. И в зависимости от типа enum-

1. Продолжительная - диалог, мини-игры и тд, также приближает камеру - но это зависит от конкретной реализации. 
    * для этого интеракта надо бы прикрутить стейт машину, но я не разбираюсь, так что сами как-нибудь 
      * если что на 27 строке в PlayerInteract.cs мы получаем InteractionType, так что можно в зависимости от него там как-нибудь менять стейт хз короче
2. Кратковременная - подобрать предмет, взломать турель, <s>вызвать шл</s>
</details> 


# changes
## неписи и диалоги платона
- создано три скрипта: 
  1. NPC:IInteractable
  2. (interface) IInteractable
  3. PlayerInteract
- (!!) **скрипт PlayerInteract висит на Character префабе, потому что я не пон как мне инициализировать персика вместе с этим скриптом.**
- основнвые неписи(секретный уровень не трогал) переведены на PrefabVariant
- в неписе теперь нет  скрипта PlayerMeeting.
- DialogueWindow и сопутствующие теперь подтягиваются автоматически с помощью тега "DialogueWindow" внутри NPC
  * правда он теперь по дефолту активен на сцене, но логику этого можете сами поменять если не нравится (поиск диалогового окна происходит в скрипте NPC)
- логику печатания НЕ МЕНЯЛ 
>если что-то по мелочи забыл ИЗВИНИТЕ

# suggestions
1. Перевести игровых персонажей на Prefab Variant от Character, 
   1. В Character добавить все скрипты, чтобы лишний раз себе мозги не ебать перетаскиванием или добавлением в скрипт(хз как оно реализовано)
   2. Сделать пустой Character Prefab полностью живым и ходибельным, чтобы можно было запускать сцены с какой-то болванкой (e.g. пусть карамелька будет дефолтным персиком)
2. Добавить Animator Override *чета-там* (шаблон аниматора короче) для NPC, чтобы по тыще раз не настраивать одно и то же (опционально) 
3. Успокоить камеру в вертикальных перемещениях
4. Сделать инпут ХОДЫТ на стрелочки, а в атаку добавить X(eng) и K(eng) 
